<?php

use Illuminate\Database\Seeder;
use GMC\Models\Master;

class MasterSeeder extends Seeder {

    public function run() {
        DB::statement("SET foreign_key_checks=0");
        Master::truncate();
        DB::statement("SET foreign_key_checks=1");
        $seeds = '[{"masterId":1,"masterName":"Activities","masterUseAPI":"0","masterFormat":null,"masterRawQuery":null},{"masterId":2,"masterName":"Education","masterUseAPI":"0","masterFormat":"[{\"name\":\"education\",\"target\":null,\"form\":{\"multiple\":false,\"index\":\"educationId\",\"value\":[\"educationName\"]}}]","masterRawQuery":null},{"masterId":3,"masterName":"Expenses","masterUseAPI":"0","masterFormat":"[{\"name\":\"expenses\",\"target\":null,\"form\":{\"multiple\":false,\"index\":\"expenseId\",\"value\":[\"expenseMin\",\"expenseMax\"]}}]","masterRawQuery":null},{"masterId":4,"masterName":"Hobbies","masterUseAPI":"0","masterFormat":"[{\"name\":\"hobbies\",\"target\":null,\"form\":{\"multiple\":false,\"index\":\"hobbyId\",\"value\":[\"hobbyParent\",\"hobbyName\"]}}]","masterRawQuery":null},{"masterId":5,"masterName":"Interests","masterUseAPI":"0","masterFormat":"[{\"name\":\"interests\",\"target\":null,\"form\":{\"multiple\":false,\"index\":\"interestId\",\"value\":[\"interestParent\",\"interestName\"]}}]","masterRawQuery":null},{"masterId":6,"masterName":"Media","masterUseAPI":"1","masterFormat":"[{\"name\":\"media\",\"target\":\"https:\\\/\\\/api.gramedia-majalah.com\\\/v1\\\/gateway\\\/media\",\"form\":{\"multiple\":false,\"index\":\"mediaId\",\"value\":[\"mediaName\"]}}]","masterRawQuery":null},{"masterId":7,"masterName":"Media Groups","masterUseAPI":"0","masterFormat":null,"masterRawQuery":null},{"masterId":8,"masterName":"Professions","masterUseAPI":"0","masterFormat":"[{\"name\":\"professions\",\"target\":null,\"form\":{\"multiple\":false,\"index\":\"professionId\",\"value\":[\"professionParent\",\"professionName\"]}}]","masterRawQuery":null},{"masterId":9,"masterName":"Region","masterUseAPI":"1","masterFormat":"[{\"name\":\"provinces\",\"target\":\"https:\\\/\\\/api.gramedia-majalah.com\\\/v1\\\/region\\\/province\",\"form\":{\"multiple\":false,\"index\":\"provinceId\",\"value\":[\"provinceName\"]}},{\"name\":\"regencies\",\"target\":\"https:\\\/\\\/api.gramedia-majalah.com\\\/v1\\\/region\\\/regency\",\"form\":{\"multiple\":false,\"index\":\"regencyId\",\"value\":[\"regencyName\"]}},{\"name\":\"districts\",\"target\":\"https:\\\/\\\/api.gramedia-majalah.com\\\/v1\\\/region\\\/district\",\"form\":{\"multiple\":false,\"index\":\"districtId\",\"value\":[\"districtName\"]}},{\"name\":\"villages\",\"target\":\"https:\\\/\\\/api.gramedia-majalah.com\\\/v1\\\/region\\\/village\",\"form\":{\"multiple\":false,\"index\":\"villageId\",\"value\":[\"villageName\"]}},{\"name\":\"greaterAreas\",\"target\":\"https:\\\/\\\/api.gramedia-majalah.com\\\/v1\\\/region\\\/greaterArea\",\"form\":{\"multiple\":false,\"index\":\"greaterAreaId\",\"value\":[\"greaterAreaName\"]}}]","masterRawQuery":null},{"masterId":10,"masterName":"Sources","masterUseAPI":"0","masterFormat":"[{\"name\":\"sources\",\"target\":null,\"form\":{\"multiple\":false,\"index\":\"sourceId\",\"value\":[\"sourceName\"]}}]","masterRawQuery":null},{"masterId":11,"masterName":"Vehicles","masterUseAPI":"1","masterFormat":"[{\"name\":\"brands\",\"target\":\"https:\\\/\\\/api.gramedia-majalah.com\\\/v1\\\/vehicle\\\/brand\",\"form\":{\"multiple\":false,\"index\":\"brandId\",\"value\":[\"brandName\"]}},{\"name\":\"classifications\",\"target\":\"https:\\\/\\\/api.gramedia-majalah.com\\\/v1\\\/vehicle\\\/classification\",\"form\":{\"multiple\":false,\"index\":\"classificationId\",\"value\":[\"classificationName\"]}},{\"name\":\"series\",\"target\":\"https:\\\/\\\/api.gramedia-majalah.com\\\/v1\\\/vehicle\\\/series\",\"form\":{\"multiple\":false,\"index\":\"seriesId\",\"value\":[\"brand\",\"classification\",\"seriesName\"]}},{\"name\":\"types\",\"target\":\"https:\\\/\\\/api.gramedia-majalah.com\\\/v1\\\/vehicle\\\/type\",\"form\":{\"multiple\":false,\"index\":\"typeId\",\"value\":[\"typeName\"]}},{\"name\":\"vehicles\",\"target\":\"https:\\\/\\\/api.gramedia-majalah.com\\\/v1\\\/vehicle\\\/type\",\"form\":{\"multiple\":false,\"index\":\"typeId\",\"value\":[\"typeName\"]}}]","masterRawQuery":null}]';
        foreach (json_decode($seeds) as $row) :
            $seed = collect($row)->toArray();
            Master::create($seed);
        endforeach;
    }

}
