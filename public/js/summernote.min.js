!function(t){"use strict";var e=navigator.appVersion.indexOf("Mac")>-1,n=navigator.userAgent.indexOf("MSIE")>-1,o=function(){var t=function(t){return function(e){return t===e}},e=function(t,e){return t===e},n=function(){return!1};return{eq:t,eq2:e,fail:n}}(),i=function(){var t=function(t){return t[0]},e=function(t){return t[t.length-1]},n=function(t){return t.slice(0,t.length-1)},o=function(t){return t.slice(1)},i=function(n,i){if(0===n.length)return[];var a=o(n);return a.reduce(function(t,n){var o=e(t);return i(e(o),n)?o[o.length]=n:t[t.length]=[n],t},[[t(n)]])},a=function(t){for(var e=[],n=0,o=t.length;o>n;n++)t[n]&&e.push(t[n]);return e};return{head:t,last:e,initial:n,tail:o,compact:a,clusterBy:i}}(),a=function(){var e=function(t){return function(e){return e&&e.nodeName===t}},n=function(t){return t&&/^P|^LI|^H[1-7]/.test(t.nodeName)},a=function(t){return t&&/^UL|^OL/.test(t.nodeName)},l=function(e){return e&&t(e).hasClass("note-editable")},r=function(e){return e&&t(e).hasClass("note-control-sizing")},s=function(t,e){for(;t;){if(e(t))return t;t=t.parentNode}return null},d=function(t,e){e=e||o.fail;var n=[];return s(t,function(t){return n.push(t),e(t)}),n},c=function(e,n){for(var o=d(e),i=n;i;i=i.parentNode)if(t.inArray(i,o)>-1)return i;return null},u=function(t,e){for(var n,o=[],i=c(t,e),a=document.createNodeIterator(i,NodeFilter.SHOW_ALL,null,!1),l=!1;(n=a.nextNode())&&(t===n&&(l=!0),l&&o.push(n),e!==n););return o},f=function(t,e){e=e||o.fail;for(var n=[];t&&(n.push(t),t!==e);)t=t.nextSibling;return n},v=function(t,e){var n=e.nextSibling,o=e.parentNode;return n?o.insertBefore(t,n):o.appendChild(t),t},h=function(e,n){return t.each(n,function(t,n){e.appendChild(n)}),e},b=e("#text"),p=function(t){return b(t)?t.nodeValue.length:t.childNodes.length},g=function(t){for(var e=0;t=t.previousSibling;)e+=1;return e},m=function(e,n){var a=i.initial(d(n,o.eq(e)));return t.map(a,g).reverse()},y=function(t,e){for(var n=t,o=0,i=e.length;i>o;o++)n=n.childNodes[e[o]];return n},k=function(t,e){if(0===e)return t;if(e>=p(t))return t.nextSibling;if(b(t))return t.splitText(e);var n=t.childNodes[e];return t=v(t.cloneNode(!1),t),h(t,f(n))},C=function(t,e,n){var i=d(e,o.eq(t));return 1===i.length?k(e,n):i.reduce(function(t,o){var i=o.cloneNode(!1);return v(i,o),t===e&&(t=k(t,n)),h(i,f(t)),i})};return{isText:b,isPara:n,isList:a,isEditable:l,isControlSizing:r,isAnchor:e("A"),isDiv:e("DIV"),isSpan:e("SPAN"),isB:e("B"),isU:e("U"),isS:e("S"),isI:e("I"),isImg:e("IMG"),ancestor:s,listAncestor:d,listNext:f,commonAncestor:c,listBetween:u,insertAfter:v,position:g,makeOffsetPath:m,fromOffsetPath:y,split:C}}(),l=!!document.createRange,r=function(e,n,r,s){if(0===arguments.length&&document.getSelection){var d=document.getSelection().getRangeAt(0);e=d.startContainer,n=d.startOffset,r=d.endContainer,s=d.endOffset}this.sc=e,this.so=n,this.ec=r,this.eo=s;var c=function(){if(l){var t=document.createRange();return t.setStart(e,n),t.setEnd(r,s),t}};this.select=function(){var t=c();if(l){var e=document.getSelection();e.rangeCount>0&&e.removeAllRanges(),e.addRange(t)}},this.listPara=function(){var n=a.listBetween(e,r),l=i.compact(t.map(n,function(t){return a.ancestor(t,a.isPara)}));return t.map(i.clusterBy(l,o.eq2),i.head)},this.isOnList=function(){var t=a.ancestor(e,a.isList),n=a.ancestor(r,a.isList);return t&&t===n},this.isOnAnchor=function(){var t=a.ancestor(e,a.isAnchor),n=a.ancestor(r,a.isAnchor);return t&&t===n},this.isCollapsed=function(){return e===r&&n===s},this.insertNode=function(t){var e=c();l&&e.insertNode(t)},this.surroundContents=function(e){var n=t("<"+e+" />")[0],o=c();return l&&o.surroundContents(n),n},this.toString=function(){var t=c();return l?t.toString():void 0},this.bookmark=function(t){return{s:{path:a.makeOffsetPath(t,e),offset:n},e:{path:a.makeOffsetPath(t,r),offset:s}}}},s=function(t,e){return new r(a.fromOffsetPath(t,e.s.path),e.s.offset,a.fromOffsetPath(t,e.e.path),e.e.offset)},d=function(){this.styleFont=function(e,n){var o=e.surroundContents("span");t.each(n,function(t,e){o.style[t]=e})},this.stylePara=function(e,n){var o=e.listPara();t.each(o,function(e,o){t.each(n,function(t,e){o.style[t]=e})})},this.current=function(e,n){var o=t(a.isText(e.sc)?e.sc.parentNode:e.sc),i=o.css(["font-size","font-weight","font-style","text-decoration","text-align","list-style-type","line-height"])||{};if(i["font-size"]=parseInt(i["font-size"]),isNaN(parseInt(i["font-weight"]))||(i["font-weight"]=i["font-weight"]>400?"bold":"normal"),e.isOnList()){var l=["circle","disc","disc-leading-zero","square"],r=t.inArray(i["list-style-type"],l)>-1;i["list-style"]=r?"unordered":"ordered"}else i["list-style"]="none";var s=a.ancestor(e.sc,a.isPara);if(s&&s.style["line-height"])i["line-height"]=s.style.lineHeight;else{var d=parseInt(i["line-height"])/parseInt(i["font-size"]);i["line-height"]=d.toFixed(1)}return i.image=a.isImg(n)&&n,i.anchor=e.isOnAnchor()&&a.ancestor(e.sc,a.isAnchor),i.aAncestor=a.listAncestor(e.sc,a.isEditable),i}},c=function(){var t=[],e=[],n=function(t){var e=t[0],n=new r;return{contents:t.html(),bookmark:n.bookmark(e),scrollTop:t.scrollTop()}},o=function(t,e){t.html(e.contents).scrollTop(e.scrollTop),s(t[0],e.bookmark).select()};this.undo=function(i){var a=n(i);0!==t.length&&(o(i,t.pop()),e.push(a))},this.redo=function(i){var a=n(i);0!==e.length&&(o(i,e.pop()),t.push(a))},this.recordUndo=function(o){e=[],t.push(n(o))}},u=function(){var e=new d;this.currentStyle=function(t){return 0==document.getSelection().rangeCount?null:e.current(new r,t)},this.undo=function(t){t.data("NoteHistory").undo(t)},this.redo=function(t){t.data("NoteHistory").redo(t)};for(var o=this.recordUndo=function(t){t.data("NoteHistory").recordUndo(t)},i=["bold","italic","underline","justifyLeft","justifyCenter","justifyRight","justifyFull","insertOrderedList","insertUnorderedList","indent","outdent","formatBlock","removeFormat","backColor","foreColor","insertImage"],l=0,s=i.length;s>l;l++)this[i[l]]=function(t){return function(e,n){o(e),document.execCommand(t,!1,n)}}(i[l]);this.fontSize=function(t,e){o(t),document.execCommand("fontSize",!1,3);var n=t.find("font[size=3]");n.removeAttr("size").css("font-size",e+"px")},this.lineHeight=function(t,n){o(t),e.stylePara(new r,{lineHeight:n})},this.unlink=function(t){var e=new r;if(e.isOnAnchor()){o(t);var n=a.ancestor(e.sc,a.isAnchor);e=new r(n,0,n,1),e.select(),document.execCommand("unlink")}},this.setLinkDialog=function(t,e){var n=new r;if(n.isOnAnchor()){var i=a.ancestor(n.sc,a.isAnchor);n=new r(i,0,i,1)}e({range:n,text:n.toString(),url:n.isOnAnchor()?a.ancestor(n.sc,a.isAnchor).href:""},function(e){n.select(),o(t),0!==e.toLowerCase().indexOf("http://")&&(e="http://"+e),document.execCommand("createlink",!1,e)})},this.color=function(t,e){var n=JSON.parse(e);this.foreColor(t,n.foreColor),this.backColor(t,n.backColor)},this.insertTable=function(e,i){o(e);for(var a,l=i.split("x"),s=l[0],d=l[1],c=[],u=n?"&nbsp;":"<br/>",f=0;s>f;f++)c.push("<td>"+u+"</td>");a=c.join("");for(var v,h=[],b=0;d>b;b++)h.push("<tr>"+a+"</tr>");v=h.join("");var p='<table class="table table-bordered">'+v+"</table>";(new r).insertNode(t(p)[0])},this["float"]=function(t,e,n){o(t),n.style.cssFloat=e},this.resize=function(t,e,n){o(t),n.style.width=t.width()*e+"px",n.style.height=""},this.resizeTo=function(t,e){e.style.width=t.x+"px",e.style.height=t.y+"px"}},f=function(){this.update=function(e,n){var o=function(e,n){e.find(".dropdown-menu li a").each(function(){var e=t(this).attr("data-value")==n;this.className=e?"checked":""})},i=e.find(".note-fontsize");i.find(".note-current-fontsize").html(n["font-size"]),o(i,parseFloat(n["font-size"]));var a=e.find(".note-line-height");o(a,parseFloat(n["line-height"]));var l=function(t,n){var o=e.find(t);o[n()?"addClass":"removeClass"]("active")};l('button[data-event="bold"]',function(){return"bold"===n["font-weight"]}),l('button[data-event="italic"]',function(){return"italic"===n["font-style"]}),l('button[data-event="underline"]',function(){return"underline"===n["text-decoration"]}),l('button[data-event="justifyLeft"]',function(){return"left"===n["text-align"]||"start"===n["text-align"]}),l('button[data-event="justifyCenter"]',function(){return"center"===n["text-align"]}),l('button[data-event="justifyRight"]',function(){return"right"===n["text-align"]}),l('button[data-event="justifyFull"]',function(){return"justify"===n["text-align"]}),l('button[data-event="insertUnorderedList"]',function(){return"unordered"===n["list-style"]}),l('button[data-event="insertOrderedList"]',function(){return"ordered"===n["list-style"]})},this.updateRecentColor=function(e,n,o){var i=t(e).closest(".note-color"),a=i.find(".note-recent-color"),l=JSON.parse(a.attr("data-value"));l[n]=o,a.attr("data-value",JSON.stringify(l));var r="backColor"===n?"background-color":"color";a.find("i").css(r,o)}},v=function(){this.update=function(e,n){var o=e.find(".note-link-popover"),i=e.find(".note-image-popover");if(n.anchor){var a=o.find("a");a.attr("href",n.anchor.href).html(n.anchor.href);var l=n.anchor.getBoundingClientRect();o.css({display:"block",left:l.left,top:t(document).scrollTop()+l.bottom})}else o.hide();if(n.image){var l=n.image.getBoundingClientRect();i.css({display:"block",left:l.left,top:t(document).scrollTop()+l.bottom})}else i.hide()},this.hide=function(t){t.children().hide()}},h=function(){this.update=function(e,n){var o=e.find(".note-control-selection");if(n.image){var i=n.image.getBoundingClientRect();o.css({display:"block",left:i.left+"px",top:t(document).scrollTop()+i.top+"px",width:i.width+"px",height:i.height+"px"}).data("target",n.image)}else o.hide()},this.hide=function(t){t.children().hide()}},b=function(){this.showImageDialog=function(e,n,o){var i=e.find(".note-image-dialog"),a=e.find(".note-dropzone"),l=e.find(".note-image-input");i.on("shown",function(){a.on("dragenter dragover dragleave",!1),a.on("drop",function(t){n(t),i.modal("hide")}),l.on("change",function(){o(this.files),t(this).val(""),i.modal("hide")})}).on("hidden",function(){a.off("dragenter dragover dragleave drop"),l.off("change")}).modal("show")},this.showLinkDialog=function(t,e,n){var o=t.find(".note-link-dialog"),i=o.find(".note-link-text"),a=o.find(".note-link-url"),l=o.find(".note-link-btn");o.on("shown",function(){i.html(e.text),a.val(e.url).keyup(function(){a.val()?l.removeClass("disabled").attr("disabled",!1):l.addClass("disabled").attr("disabled",!0),e.text||i.html(a.val())}).trigger("focus"),l.click(function(t){o.modal("hide"),n(a.val()),t.preventDefault()})}).on("hidden",function(){a.off("keyup"),o.off("shown hidden"),l.off("click")}).modal("show")}},p=function(){var n=new u,o=new f,i=new v,l=new h,r=new b,s={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,NUM0:48,NUM1:49,NUM4:52,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,U:85,Y:89,Z:90,BACKSLACH:220},d=function(e){var n=t(e).closest(".note-editor");return{editor:function(){return n},editable:function(){return n.find(".note-editable")},toolbar:function(){return n.find(".note-toolbar")},popover:function(){return n.find(".note-popover")},handle:function(){return n.find(".note-handle")},dialog:function(){return n.find(".note-dialog")}}},c=function(t){var o=e?t.metaKey:t.ctrlKey,i=t.shiftKey,a=t.keyCode,l=o||i?d(t.target):null;if(o&&(i&&a===s.Z||a===s.Y))n.redo(l.editable());else if(o&&a===s.Z)n.undo(l.editable());else if(o&&a===s.B)n.bold(l.editable());else if(o&&a===s.I)n.italic(l.editable());else if(o&&a===s.U)n.underline(l.editable());else if(o&&a===s.BACKSLACH)n.removeFormat(l.editable());else if(o&&a===s.K)n.setLinkDialog(l.editable(),function(t,e){r.showLinkDialog(l.dialog(),t,e)});else if(o&&i&&a===s.L)n.justifyLeft(l.editable());else if(o&&i&&a===s.E)n.justifyCenter(l.editable());else if(o&&i&&a===s.R)n.justifyRight(l.editable());else if(o&&i&&a===s.J)n.justifyFull(l.editable());else if(o&&i&&a===s.NUM7)n.insertUnorderedList(l.editable());else if(o&&i&&a===s.NUM8)n.insertOrderedList(l.editable());else if(i&&a===s.TAB)n.outdent(l.editable());else if(a===s.TAB)n.indent(l.editable());else if(o&&a===s.NUM0)n.formatBlock(l.editable(),"P");else{if(!(o&&s.NUM1<=a&&a<=s.NUM4))return void((a===s.BACKSPACE||a===s.ENTER||a===s.SPACE)&&n.recordUndo(d(t.target).editable()));var c="H"+String.fromCharCode(a);n.formatBlock(l.editable(),c)}t.preventDefault()},p=function(e,o){t.each(o,function(t,o){var i=new FileReader;i.onload=function(t){n.insertImage(e,t.target.result)},i.readAsDataURL(o)})},g=function(t){var e=t.originalEvent.dataTransfer;if(e&&e.files){var n=d(t.currentTarget||t.target);p(n.editable(),e.files)}t.stopPropagation(),t.preventDefault()},m=function(t){a.isImg(t.target)&&t.preventDefault()},y=function(t){var e=d(t.currentTarget||t.target),a=n.currentStyle(t.target);a&&(o.update(e.toolbar(),a),i.update(e.popover(),a),l.update(e.handle(),a))},k=function(t){var e=d(t.currentTarget||t.target);i.hide(e.popover()),l.hide(e.handle())},C=function(e){if(a.isControlSizing(e.target)){var o,r=d(e.target),s=r.handle(),c=r.popover(),u=r.editable(),f=r.editor(),v=s.find(".note-control-selection").data("target"),h=t(v).offset(),b=t(document).scrollTop();f.on("mousemove",function(t){o={x:t.clientX-h.left,y:t.clientY-(h.top-b)},n.resizeTo(o,v),l.update(s,{image:v}),i.update(c,{image:v})}).on("mouseup",function(){f.off("mousemove").off("mouseup")}),n.recordUndo(u),e.stopPropagation(),e.preventDefault()}},w=function(e){var n=t(e.target).closest("[data-event]");n.length>0&&e.preventDefault()},F=function(e){var i=t(e.target).closest("[data-event]");if(i.length>0){var a,l=i.attr("data-event"),s=i.attr("data-value"),c=d(e.target),u=c.dialog(),f=c.editable();if(-1!==t.inArray(l,["resize","float"])){var v=c.handle(),h=v.find(".note-control-selection");a=h.data("target")}n[l]&&(f.trigger("focus"),n[l](f,s,a)),-1!==t.inArray(l,["backColor","foreColor"])?o.updateRecentColor(i[0],l,s):"showLinkDialog"===l?n.setLinkDialog(f,function(t,e){r.showLinkDialog(u,t,e)}):"showImageDialog"===l&&r.showImageDialog(u,g,function(t){p(f,t)}),y(e)}},A=18,x=function(e){var n,o=t(e.target.parentNode),i=o.next(),a=o.find(".note-dimension-picker-mousecatcher"),l=o.find(".note-dimension-picker-highlighted"),r=o.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var s=t(e.target).offset();n={x:e.pageX-s.left,y:e.pageY-s.top}}else n={x:e.offsetX,y:e.offsetY};var d={c:Math.ceil(n.x/A)||1,r:Math.ceil(n.y/A)||1};l.css({width:d.c+"em",height:d.r+"em"}),a.attr("data-value",d.c+"x"+d.r),3<d.c&&d.c<20&&r.css({width:d.c+1+"em"}),3<d.r&&d.r<20&&r.css({height:d.r+1+"em"}),i.html(d.c+" x "+d.r)};this.attach=function(t){t.editable.on("keydown",c),t.editable.on("mousedown",m),t.editable.on("keyup mouseup",y),t.editable.on("scroll",k),t.editable.on("dragenter dragover dragleave",!1),t.editable.on("drop",g),t.handle.on("mousedown",C),t.toolbar.on("click",F),t.popover.on("click",F),t.toolbar.on("mousedown",w),t.popover.on("mousedown",w);var e=t.toolbar,n=e.find(".note-dimension-picker-mousecatcher");n.on("mousemove",x)},this.dettach=function(t){t.editable.off(),t.toolbar.off(),t.handle.off(),t.popover.off()}},g=function(){var n='<div class="note-toolbar btn-toolbar"><div class="note-insert btn-group"><button type="button" class="btn btn-small" title="Picture" data-event="showImageDialog"><i class="icon-picture"></i></button><button type="button" class="btn btn-small" title="Link" data-event="showLinkDialog" data-shortcut="Ctrl+K" data-mac-shortcut="⌘+K" ><i class="icon-link"></i></button></div><div class="note-table btn-group"><button type="button" class="btn btn-small dropdown-toggle" title="Table" data-toggle="dropdown"><i class="icon-table"></i> <span class="caret"></span></button><ul class="dropdown-menu"><div class="note-dimension-picker"><div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div><div class="note-dimension-picker-highlighted"></div><div class="note-dimension-picker-unhighlighted"></div></div><div class="note-dimension-display"> 1 x 1 </div></ul></div><div class="note-style btn-group"><button type="button" class="btn btn-small dropdown-toggle" title="Style" data-toggle="dropdown"><i class="icon-magic"></i> <span class="caret"></span></button><ul class="dropdown-menu"><li><a data-event="formatBlock" data-value="p">Paragraph</a></li><li><a data-event="formatBlock" data-value="blockquote"><blockquote>Quote</blockquote></a></li><li><a data-event="formatBlock" data-value="pre">Code</a></li><li><a data-event="formatBlock" data-value="h1"><h1>Header 1</h1></a></li><li><a data-event="formatBlock" data-value="h2"><h2>Header 2</h2></a></li><li><a data-event="formatBlock" data-value="h3"><h3>Header 3</h3></a></li><li><a data-event="formatBlock" data-value="h4"><h4>Header 4</h4></a></li></ul></div><div class="note-fontsize btn-group"><button type="button" class="btn btn-small dropdown-toggle" data-toggle="dropdown" title="Font Size"><span class="note-current-fontsize">11</span> <b class="caret"></b></button><ul class="dropdown-menu"><li><a data-event="fontSize" data-value="8"><i class="icon-ok"></i> 8</a></li><li><a data-event="fontSize" data-value="9"><i class="icon-ok"></i> 9</a></li><li><a data-event="fontSize" data-value="10"><i class="icon-ok"></i> 10</a></li><li><a data-event="fontSize" data-value="11"><i class="icon-ok"></i> 11</a></li><li><a data-event="fontSize" data-value="12"><i class="icon-ok"></i> 12</a></li><li><a data-event="fontSize" data-value="14"><i class="icon-ok"></i> 14</a></li><li><a data-event="fontSize" data-value="18"><i class="icon-ok"></i> 18</a></li><li><a data-event="fontSize" data-value="24"><i class="icon-ok"></i> 24</a></li><li><a data-event="fontSize" data-value="36"><i class="icon-ok"></i> 36</a></li></ul></div><div class="note-color btn-group"><button type="button" class="btn btn-small note-recent-color" title="Recent Color" data-event="color" data-value=\'{"foreColor":"black","backColor":"yellow"}\'><i class="icon-font" style="color:black;background-color:yellow;"></i></button><button type="button" class="btn btn-small dropdown-toggle" title="More Color" data-toggle="dropdown"><span class="caret"></span></button><ul class="dropdown-menu"><li><div class="btn-group"><div class="note-palette-title">BackColor</div><div class="note-color-palette" data-target-event="backColor"></div></div><div class="btn-group"><div class="note-palette-title">FontColor</div><div class="note-color-palette" data-target-event="foreColor"></div></div></li></ul></div><div class="note-style btn-group"><button type="button" class="btn btn-small" title="Bold" data-shortcut="Ctrl+B" data-mac-shortcut="⌘+B" data-event="bold"><i class="icon-bold"></i></button><button type="button" class="btn btn-small" title="Italic" data-shortcut="Ctrl+I" data-mac-shortcut="⌘+I" data-event="italic"><i class="icon-italic"></i></button><button type="button" class="btn btn-small" title="Underline" data-shortcut="Ctrl+U" data-mac-shortcut="⌘+U" data-event="underline"><i class="icon-underline"></i></button><button type="button" class="btn btn-small" title="Remove Font Style" data-shortcut="Ctrl+\\" data-mac-shortcut="⌘+\\" data-event="removeFormat"><i class="icon-eraser"></i></button></div><div class="note-para btn-group"><button type="button" class="btn btn-small" title="Unordered list" data-shortcut="Ctrl+Shift+8" data-mac-shortcut="⌘+⇧+7" data-event="insertUnorderedList"><i class="icon-list-ul"></i></button><button type="button" class="btn btn-small" title="Ordered list" data-shortcut="Ctrl+Shift+7" data-mac-shortcut="⌘+⇧+8" data-event="insertOrderedList"><i class="icon-list-ol"></i></button><button type="button" class="btn btn-small dropdown-toggle" title="Paragraph" data-toggle="dropdown"><i class="icon-align-left"></i>  <span class="caret"></span></button><ul class="dropdown-menu right"><li><div class="note-align btn-group"><button type="button" class="btn btn-small" title="Align left" data-shortcut="Ctrl+Shift+L" data-mac-shortcut="⌘+⇧+L" data-event="justifyLeft"><i class="icon-align-left"></i></button><button type="button" class="btn btn-small" title="Align center" data-shortcut="Ctrl+Shift+E" data-mac-shortcut="⌘+⇧+E" data-event="justifyCenter"><i class="icon-align-center"></i></button><button type="button" class="btn btn-small" title="Align right" data-shortcut="Ctrl+Shift+R" data-mac-shortcut="⌘+⇧+R" data-event="justifyRight"><i class="icon-align-right"></i></button><button type="button" class="btn btn-small" title="Justify full" data-shortcut="Ctrl+Shift+J" data-mac-shortcut="⌘+⇧+J" data-event="justifyFull"><i class="icon-align-justify"></i></button></div></li><li><div class="note-list btn-group"><button type="button" class="btn btn-small" title="Outdent" data-shortcut="Shift+TAB" data-mac-shortcut="⇧+TAB" data-event="outdent"><i class="icon-indent-left"></i></button><button type="button" class="btn btn-small" title="Indent" data-shortcut="TAB" data-mac-shortcut="TAB" data-event="indent"><i class="icon-indent-right"></i></button></li></ul></div><div class="note-line-height btn-group"><button type="button" class="btn btn-small dropdown-toggle" data-toggle="dropdown" title="Line Height"><i class="icon-text-height"></i>&nbsp; <b class="caret"></b></button><ul class="dropdown-menu right"><li><a data-event="lineHeight" data-value="1.0"><i class="icon-ok"></i> 1.0</a></li><li><a data-event="lineHeight" data-value="1.2"><i class="icon-ok"></i> 1.2</a></li><li><a data-event="lineHeight" data-value="1.4"><i class="icon-ok"></i> 1.4</a></li><li><a data-event="lineHeight" data-value="1.5"><i class="icon-ok"></i> 1.5</a></li><li><a data-event="lineHeight" data-value="1.6"><i class="icon-ok"></i> 1.6</a></li><li><a data-event="lineHeight" data-value="1.8"><i class="icon-ok"></i> 1.8</a></li><li><a data-event="lineHeight" data-value="2.0"><i class="icon-ok"></i> 2.0</a></li><li><a data-event="lineHeight" data-value="3.0"><i class="icon-ok"></i> 3.0</a></li></ul></div></div>',o='<div class="note-popover"><div class="note-link-popover popover fade bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content note-link-content"><a href="http://www.google.com" target="_blank">www.google.com</a>&nbsp;&nbsp;<div class="note-insert btn-group"><button type="button" class="btn btn-small" title="Edit" data-event="showLinkDialog"><i class="icon-edit"></i></button><button type="button" class="btn btn-small" title="Unlink" data-event="unlink"><i class="icon-unlink"></i></button></div></div></div><div class="note-image-popover popover fade bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content note-image-content"><div class="btn-group"><button type="button" class="btn btn-small" title="Resize Full" data-event="resize" data-value="1"><i class="icon-resize-full"></i></button><button type="button" class="btn btn-small" title="Resize Half" data-event="resize" data-value="0.5">½</button><button type="button" class="btn btn-small" title="Resize Thrid" data-event="resize" data-value="0.33">⅓</button><button type="button" class="btn btn-small" title="Resize Quarter" data-event="resize" data-value="0.25">¼</button></div><div class="btn-group"><button type="button" class="btn btn-small" title="Float Left" data-event="float" data-value="left"><i class="icon-align-left"></i></button><button type="button" class="btn btn-small" title="Float Right" data-event="float" data-value="right"><i class="icon-align-right"></i></button><button type="button" class="btn btn-small" title="Float None" data-event="float" data-value="none"><i class="icon-reorder"></i></button></div></div></div></div>',i='<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="note-control-sizing note-control-se"></div></div></div>',a='<div class="note-dialog"><div class="note-image-dialog modal hide in" aria-hidden="false"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button><h4>Insert Image</h4></div><div class="modal-body"><div class="row-fluid"><div class="note-dropzone span12">Drag an image here</div><div>or if you prefer...</div><input class="note-image-input" type="file" class="note-link-url" type="text" /></div></div></div><div class="note-link-dialog modal hide in" aria-hidden="false"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button><h4>Edit Link</h4></div><div class="modal-body"><div class="row-fluid"><label>Text to display</label><span class="note-link-text input-xlarge uneditable-input" /><label>To what URL should this link go?</label><input class="note-link-url span12" type="text" /></div></div><div class="modal-footer"><a href="#" class="btn disabled note-link-btn" disabled="disabled">Link</a></div></div></div>',l=function(n,o){n.find("button").each(function(n,o){var i=t(o),a=i.attr(e?"data-mac-shortcut":"data-shortcut");a&&i.attr("title",function(t,e){return e+" ("+a+")"})}).tooltip({container:"body",placement:o||"top"})},r=[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#EFF7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],s=function(e){e.find(".note-color-palette").each(function(){for(var e=t(this),n=e.attr("data-target-event"),o="",i=0,a=r.length;a>i;i++){for(var l=r[i],s="<div>",d=0,c=l.length;c>d;d++){var u=l[d],f=['<button type="button" class="note-color-btn" style="background-color:',u,';" data-event="',n,'" data-value="',u,'" title="',u,'" data-toggle="button"></button>'].join("");s+=f}s+="</div>",o+=s}e.html(o)})};this.createLayout=function(e,r){if(!e.next().hasClass("note-editor")){var d=t('<div class="note-editor"></div>'),u=t('<div class="note-editable" contentEditable="true"></div>').prependTo(d);r&&u.height(r),u.html(e.html()),u.data("NoteHistory",new c);var f=t(n).prependTo(d);s(f),l(f,"bottom");var v=t(o).prependTo(d);l(v),t(i).prependTo(d),t(a).prependTo(d),d.insertAfter(e),e.hide()}};var d=this.layoutInfoFromHolder=function(t){var e=t.next();return e.hasClass("note-editor")?{editor:e,editable:e.find(".note-editable"),toolbar:e.find(".note-toolbar"),popover:e.find(".note-popover"),handle:e.find(".note-handle"),dialog:e.find(".note-dialog")}:void 0};this.removeLayout=function(t){var e=d(t);e&&(t.html(e.editable.html()),e.editor.remove(),t.show())}},m=new g,y=new p;t.fn.extend({summernote:function(e){e=e||{},this.each(function(n,o){var i=t(o);m.createLayout(i,e.height);var a=m.layoutInfoFromHolder(i);y.attach(a),e.focus&&a.editable.focus()})},code:function(e){return void 0===e?this.map(function(e,n){var o=m.layoutInfoFromHolder(t(n));return o.editable.html()}):void this.each(function(n,o){var i=m.layoutInfoFromHolder(t(o));i.editable.html(e)})},destroy:function(){this.each(function(e,n){var o=t(n),i=m.layoutInfoFromHolder(o);y.dettach(i),m.removeLayout(o)})},summernoteInner:function(){return{dom:a,list:i,func:o}}})}(jQuery);